<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">New post</h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form [formGroup]="newPostForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
          <label for="file">File</label>
          <input type="file" formControlName="file" class="form-control-file" (change)="this.handleFileInput($event)"
              [ngClass]="{ 'is-invalid': submitted && f.file.errors }" />
          <div *ngIf="submitted && f.file.errors" class="invalid-feedback">
              <div *ngIf="f.file.errors.required">File is required</div>
          </div>
      </div>
      <div class="form-group">
          <label for="caption">Caption</label>
          <input type="caption" formControlName="caption" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f.caption.errors }" />
          <div *ngIf="submitted && f.caption.errors" class="invalid-feedback">
              <div *ngIf="f.caption.errors.required">Caption is required</div>
          </div>
      </div>
      <div class="modal-footer">
        <button [disabled]="loading" class="btn btn-primary" >
          <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
          Post
        </button>
      </div>

      <!-- <button [disabled]="loading" type="button" class="btn btn-outline-dark" >
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
        Post
      </button> -->

      <div *ngIf="error" class="alert alert-danger mt-3 mb-0">{{error}}</div>

  </form>

  </div>

</ng-template>

<a class="nav-item nav-link" (click)="open(content)">New Post</a>
